Tuyá»‡t vá»i, mÃ¬nh sáº½ giÃºp báº¡n **tÃ³m gá»n trá»n bá»™ quy trÃ¬nh cáº¥u hÃ¬nh DNS ná»™i bá»™ báº±ng BIND9 + Apache (XAMPP)** Ä‘á»ƒ cÃ¡c tÃªn miá»n chÃ­nh/phá»¥ cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p trong máº¡ng LAN, má»—i tÃªn miá»n Ä‘á»u cÃ³ file HTML riÃªng:

---

# âœ… **TÃ“M Táº®T CÃC BÆ¯á»šC Cáº¤U HÃŒNH DNS + VIRTUALHOST TRONG Máº NG LAN**

---

## ğŸ§© **1. CÃ i Ä‘áº·t dá»‹ch vá»¥ cáº§n thiáº¿t**

```bash
sudo apt install bind9 apache2
```

(Náº¿u dÃ¹ng XAMPP thÃ¬ Apache Ä‘Ã£ cÃ³ sáºµn, khÃ´ng cáº§n cÃ i.)

---

## ğŸŒ **2. Cáº¥u hÃ¬nh zone DNS trong `bind9`**

### ğŸ—‚ File: `/etc/bind/named.conf.local`

```bash
zone "phuongan.love" {
    type master;
    file "/etc/bind/db.phuongan.love";
};

zone "1.168.192.in-addr.arpa" {
    type master;
    file "/etc/bind/db.192";
};
```

---

## ğŸ“„ **3. Táº¡o file zone chÃ­nh `db.phuongan.love`**

**File: `/etc/bind/db.phuongan.love`**

```dns
$TTL 604800
@   IN  SOA ns.phuongan.love. admin.phuongan.love. (
        2        ; Serial
        604800   ; Refresh
        86400    ; Retry
        2419200  ; Expire
        604800 ) ; Negative Cache TTL

@   IN  NS   ns.phuongan.love.
@   IN  A    192.168.1.15
www IN  A    192.168.1.15
```

---

## ğŸ” **4. Táº¡o zone ngÆ°á»£c `db.192` (PTR)**

**File: `/etc/bind/db.192`**

```dns
$TTL 604800
@   IN  SOA ns.phuongan.love. admin.phuongan.love. (
        1        ; Serial
        604800   ; Refresh
        86400    ; Retry
        2419200  ; Expire
        604800 ) ; Negative Cache TTL

@   IN  NS   ns.phuongan.love.
15  IN  PTR  phuongan.love.
```

> âš ï¸ Chá»‰ dÃ¹ng 1 PTR cho má»—i IP lÃ  tá»‘t nháº¥t.

---

## ğŸ” **5. Kiá»ƒm tra vÃ  restart BIND**

```bash
sudo named-checkzone phuongan.love /etc/bind/db.phuongan.love
sudo named-checkzone 1.168.192.in-addr.arpa /etc/bind/db.192
sudo systemctl restart bind9
```

---

## ğŸ’» **6. TrÃªn cÃ¡c mÃ¡y trong máº¡ng LAN:**

Cáº¥u hÃ¬nh file `hosts` Ä‘á»ƒ nháº­n domain (náº¿u khÃ´ng dÃ¹ng DNS toÃ n máº¡ng):

**Windows:**

```
C:\Windows\System32\drivers\etc\hosts
```

**Linux:**

```
/etc/hosts
```

ThÃªm dÃ²ng:

```text
192.168.1.15   phuongan.love www.phuongan.love
```

---

## ğŸ§° **7. Cáº¥u hÃ¬nh Apache (XAMPP) Ä‘á»ƒ phá»¥c vá»¥ tá»«ng domain**

### Báº­t `httpd-vhosts.conf` trong `httpd.conf`:

TÃ¬m dÃ²ng sau:

```apache
#Include conf/extra/httpd-vhosts.conf
```

â†’ Bá» dáº¥u `#`

---

### Cáº¥u hÃ¬nh VirtualHost trong file: `httpd-vhosts.conf`

**Windows: `C:\xampp\apache\conf\extra\httpd-vhosts.conf`**  
**Linux XAMPP: `/opt/lampp/etc/extra/httpd-vhosts.conf`**

```apache
<VirtualHost *:80>
    ServerName phuongan.love
    DocumentRoot "C:/xampp/htdocs/phuongan"
</VirtualHost>

<VirtualHost *:80>
    ServerName www.phuongan.love
    DocumentRoot "C:/xampp/htdocs/phuongan_www"
</VirtualHost>
```

> âš ï¸ Má»—i tÃªn miá»n nÃªn trá» vÃ o thÆ° má»¥c riÃªng, cÃ³ file `index.html` riÃªng bÃªn trong.

---

## ğŸ“ **8. Táº¡o ná»™i dung HTML cho tá»«ng domain**

- `C:\xampp\htdocs\phuongan\index.html` â†’ ná»™i dung cá»§a `phuongan.love`
- `C:\xampp\htdocs\phuongan_www\index.html` â†’ ná»™i dung cá»§a `www.phuongan.love`

---

## ğŸ” **9. Restart Apache**

- TrÃªn Windows: dÃ¹ng XAMPP Control Panel â†’ Restart Apache
- TrÃªn Linux:  
```bash
sudo /opt/lampp/lampp restart
```

---

## âœ… XONG! GIá»œ ÄÃ‚Y:

| TÃªn miá»n              | Truy cáº­p trong máº¡ng LAN       |
|-----------------------|-------------------------------|
| `http://phuongan.love`      | Hiá»‡n file `htdocs/phuongan/index.html` |
| `http://www.phuongan.love`  | Hiá»‡n file `htdocs/phuongan_www/index.html` |

---

Báº¡n muá»‘n mÃ¬nh Ä‘Ã³ng gÃ³i má»™t bá»™ máº«u cáº¥u hÃ¬nh Ä‘áº§y Ä‘á»§ sáºµn Ä‘á»ƒ báº¡n chá»‰ cáº§n sá»­a IP vÃ  domain khÃ´ng? MÃ¬nh gá»­i báº¡n luÃ´n ğŸ˜